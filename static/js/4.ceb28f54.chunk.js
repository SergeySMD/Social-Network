(this["webpackJsonpproject-1"]=this["webpackJsonpproject-1"]||[]).push([[4],{410:function(e,t,s){e.exports={profileInfo:"Profile_profileInfo__2PujG"}},411:function(e,t,s){e.exports={image:"ProfileInfo_image__jsKeo",descriptionBlock:"ProfileInfo_descriptionBlock__gyXI4",avatar:"ProfileInfo_avatar__2tJn4",avatarOtherUser:"ProfileInfo_avatarOtherUser__1pztr",avatarIcon:"ProfileInfo_avatarIcon__Y-v_g",userName:"ProfileInfo_userName__PKB88"}},412:function(e,t,s){e.exports={description:"ProfileStatus_description__4YNrn",span:"ProfileStatus_span__17NXe"}},413:function(e,t,s){e.exports={postBlock:"MyPosts_postBlock__1wHR4",posts:"MyPosts_posts__26m-c",inputBlock:"MyPosts_inputBlock__wxBPM",newPost:"MyPosts_newPost__2wsp1",button:"MyPosts_button__1kAMd",title:"MyPosts_title__203e2",imagePreview:"MyPosts_imagePreview__25Nac",imagePreviewButton:"MyPosts_imagePreviewButton__2jOkz"}},414:function(e,t,s){e.exports={item:"Post_item__3QQMS",image:"Post_image__KoSy2",author:"Post_author__BHyhv",menu:"Post_menu__Gi-Zy",date:"Post_date__2qxWE",message:"Post_message__3OJR5",likeBlock:"Post_likeBlock__2W7dA",textArea:"Post_textArea__2vTy0",postEdit:"Post_postEdit__3mQcU",saveButton:"Post_saveButton__2qi46",deleteButton:"Post_deleteButton__39Iso",cancelButton:"Post_cancelButton__1rKj2",postPhoto:"Post_postPhoto__1P5jQ",imagePreviewButton:"Post_imagePreviewButton__1Gioq"}},437:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s(2),i=s(32),o=s(33),r=s(35),n=s(34),l=s(1),d=s.n(l),j=s(410),u=s.n(j),p=s(411),m=s.n(p),h=s(63),b=s(412),v=s.n(b),x=(d.a.Component,function(e){var t=Object(l.useState)(!1),s=Object(h.a)(t,2),c=s[0],i=s[1],o=Object(l.useState)(e.status),r=Object(h.a)(o,2),n=r[0],d=r[1];return Object(a.jsxs)("div",{className:v.a.description,children:[!c&&Object(a.jsx)("div",{className:v.a.span,children:Object(a.jsx)("span",{className:v.a.span,onDoubleClick:function(){e.link==e.id&&(d(e.status),i(!0))},children:e.status||"Empty status"})}),c&&Object(a.jsx)("div",{children:Object(a.jsx)("input",{autoFocus:!0,onChange:function(e){d(e.currentTarget.value)},onFocus:function(e){e.target.style.cursor="text",e.target.style.borderBottom="1px solid var(--black-white-text-color)"},onBlur:function(){i(!1),e.updateStatus(n)},value:n,placeholder:"Enter your status",maxLength:"60"})})]})}),O=function(e){return Object(a.jsxs)("div",{className:m.a.content,children:[Object(a.jsx)("div",{className:m.a.image,children:Object(a.jsx)("img",{src:e.backgroundImage})}),Object(a.jsxs)("div",{className:m.a.descriptionBlock,children:[Object(a.jsxs)("div",{className:e.link==e.id?m.a.avatar:m.a.avatarOtherUser,children:[e.link==e.id?Object(a.jsxs)("label",{className:m.a.avatarIcon,title:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e",children:[Object(a.jsx)("div",{children:Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"76.232",height:"60",viewBox:"0 0 76.232 60",fill:"black",children:Object(a.jsxs)("g",{children:[Object(a.jsx)("path",{d:"M73.7,54.148a8.2,8.2,0,0,0-6.014-2.536H55.652v-.145a6.506,6.506,0,0,0-1.957-4.71,6.63,6.63,0,0,0-4.71-1.957H27.246a6.68,6.68,0,0,0-6.739,6.667v.145H8.551a8.2,8.2,0,0,0-6.014,2.536A8.615,8.615,0,0,0,0,60.162V96.249a8.2,8.2,0,0,0,2.536,6.014A8.615,8.615,0,0,0,8.551,104.8h59.13a8.2,8.2,0,0,0,6.014-2.536,8.615,8.615,0,0,0,2.536-6.014V60.162A8.2,8.2,0,0,0,73.7,54.148Zm-1.232,42.1h-.072a4.7,4.7,0,0,1-4.71,4.71H8.551a4.7,4.7,0,0,1-4.71-4.71V60.162a4.7,4.7,0,0,1,4.71-4.71H22.536A1.948,1.948,0,0,0,24.493,53.5v-2.1a2.728,2.728,0,0,1,2.826-2.826H48.985a2.728,2.728,0,0,1,2.826,2.826v2.1a1.948,1.948,0,0,0,1.957,1.957H67.754a4.7,4.7,0,0,1,4.71,4.71Z",transform:"translate(0 -44.8)"}),Object(a.jsx)("path",{d:"M129.826,130.8a17.813,17.813,0,1,0,12.609,5.217A17.858,17.858,0,0,0,129.826,130.8Zm9.855,27.754a14,14,0,0,1-19.71,0,13.853,13.853,0,0,1-4.058-9.855,14.161,14.161,0,0,1,4.058-9.855,13.853,13.853,0,0,1,9.855-4.058,14.161,14.161,0,0,1,9.855,4.058,13.853,13.853,0,0,1,4.058,9.855A13.559,13.559,0,0,1,139.681,158.554Z",transform:"translate(-91.71 -115.22)"}),Object(a.jsx)("circle",{cx:"3.551",cy:"3.551",r:"3.551",transform:"translate(60.362 15.507)"})]})})}),Object(a.jsx)("input",{type:"file",onChange:function(t){e.updateAvatar(t.currentTarget.files[0],e.id)}})]}):null,Object(a.jsx)("img",{src:e.avatar})]}),Object(a.jsx)("div",{className:m.a.userName,children:e.username}),Object(a.jsx)("div",{children:Object(a.jsx)(x,{status:e.status,link:e.match.params.userId,id:e.id,updateStatus:e.updateStatus})})]})]})},g=s(413),f=s.n(g),_=s(414),P=s.n(_),k=s(434),C=s(38),w=s(137),I=function(e){var t=Object(l.useState)(e.message),s=Object(h.a)(t,2),c=s[0],i=s[1],o=Object(l.useState)(!1),r=Object(h.a)(o,2),n=r[0],d=r[1];return Object(a.jsxs)("div",{className:P.a.item,style:n?{boxShadow:"0px 16px 32px rgba(0, 0, 0, 0.08)"}:{},children:[Object(a.jsx)("div",{className:P.a.image,children:Object(a.jsx)("img",{src:e.avatar})}),Object(a.jsx)("div",{className:P.a.author,children:e.username}),Object(a.jsx)("div",{className:P.a.menu,children:Object(a.jsx)(N,{postId:e.id,remove:e.removePost,editMode:n,onEditClick:function(){d(!0)}})}),Object(a.jsx)("div",{className:P.a.date,children:e.date}),Object(a.jsxs)("div",{className:P.a.message,children:[n?Object(a.jsxs)("div",{className:P.a.postEdit,children:[Object(a.jsx)(w.a,{className:P.a.textArea,value:c,onChange:function(e){!function(e){i(e.target.value)}(e)},type:"text",maxlength:1200,placeholder:"Your post message",maxRows:16}),c?Object(a.jsx)("button",{className:P.a.saveButton,onClick:function(){var t,s;t=e.id,s=c,e.setEditPostNewText(t,s),d(!1),i(e.message)},children:"Save"}):Object(a.jsx)("button",{className:P.a.deleteButton,onClick:function(){var t;t=e.id,e.removePost(t)},children:"Delete"}),Object(a.jsx)("button",{className:P.a.cancelButton,onClick:function(){d(!1),i(e.message)},children:"Cancel"})]}):Object(a.jsx)("span",{children:e.message}),null!==e.PostImage?Object(a.jsx)("div",{className:P.a.postPhoto,children:Object(a.jsx)("img",{src:e.PostImage})}):null]}),Object(a.jsxs)("div",{className:P.a.likeBlock,children:[Object(a.jsx)("svg",{onClick:function(){e.onLikeClick(e.id)},width:"20",height:"20",viewBox:"0 0 512 512",fill:"black",xmlns:"http://www.w3.org/2000/svg",children:e.isLiked?Object(a.jsx)("path",{fill:"var(--color-block)",d:"M376,30c-27.783,0-53.255,8.804-75.707,26.168c-21.525,16.647-35.856,37.85-44.293,53.268\r c-8.437-15.419-22.768-36.621-44.293-53.268C189.255,38.804,163.783,30,136,30C58.468,30,0,93.417,0,177.514\r c0,90.854,72.943,153.015,183.369,247.118c18.752,15.981,40.007,34.095,62.099,53.414C248.38,480.596,252.12,482,256,482\r s7.62-1.404,10.532-3.953c22.094-19.322,43.348-37.435,62.111-53.425C439.057,330.529,512,268.368,512,177.514\r C512,93.417,453.532,30,376,30z"}):Object(a.jsx)("path",{fill:"var(--707070-EDEEF0-text-color)",d:"M474.644,74.27C449.391,45.616,414.358,29.836,376,29.836c-53.948,0-88.103,32.22-107.255,59.25\r c-4.969,7.014-9.196,14.047-12.745,20.665c-3.549-6.618-7.775-13.651-12.745-20.665c-19.152-27.03-53.307-59.25-107.255-59.25\r c-38.358,0-73.391,15.781-98.645,44.435C13.267,101.605,0,138.213,0,177.351c0,42.603,16.633,82.228,52.345,124.7\r c31.917,37.96,77.834,77.088,131.005,122.397c19.813,16.884,40.302,34.344,62.115,53.429l0.655,0.574\r c2.828,2.476,6.354,3.713,9.88,3.713s7.052-1.238,9.88-3.713l0.655-0.574c21.813-19.085,42.302-36.544,62.118-53.431\r c53.168-45.306,99.085-84.434,131.002-122.395C495.367,259.578,512,219.954,512,177.351\r C512,138.213,498.733,101.605,474.644,74.27z M309.193,401.614c-17.08,14.554-34.658,29.533-53.193,45.646\r c-18.534-16.111-36.113-31.091-53.196-45.648C98.745,312.939,30,254.358,30,177.351c0-31.83,10.605-61.394,29.862-83.245\r C79.34,72.007,106.379,59.836,136,59.836c41.129,0,67.716,25.338,82.776,46.594c13.509,19.064,20.558,38.282,22.962,45.659\r c2.011,6.175,7.768,10.354,14.262,10.354c6.494,0,12.251-4.179,14.262-10.354c2.404-7.377,9.453-26.595,22.962-45.66\r c15.06-21.255,41.647-46.593,82.776-46.593c29.621,0,56.66,12.171,76.137,34.27C471.395,115.957,482,145.521,482,177.351\r C482,254.358,413.255,312.939,309.193,401.614z"})}),Object(a.jsx)("span",{style:e.isLiked?{color:"var(--color-block)"}:{color:"var(--707070-EDEEF0-text-color)"},children:e.likeCounter})]})]})},N=function(e){var t=e.postId,s=e.remove,c=e.editMode,i=e.onEditClick;return Object(a.jsx)(k.a,{upward:!0,icon:Object(a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"black",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("path",{d:"M2.00001 12C3.10459 12 4.00003 11.1046 4.00003 10C4.00003 8.89543 3.10459 8 2.00001 8C0.895437 8 0 8.89543 0 10C0 11.1046 0.895437 12 2.00001 12Z"}),Object(a.jsx)("path",{d:"M9.99996 12C11.1045 12 12 11.1046 12 10C12 8.89543 11.1045 8 9.99996 8C8.89539 8 7.99995 8.89543 7.99995 10C7.99995 11.1046 8.89539 12 9.99996 12Z"}),Object(a.jsx)("path",{d:"M18 12C19.1046 12 20 11.1046 20 10C20 8.89543 19.1046 8 18 8C16.8954 8 16 8.89543 16 10C16 11.1046 16.8954 12 18 12Z"})]}),children:Object(a.jsxs)(k.a.Menu,{children:[Object(a.jsx)(k.a.Item,{text:"Edit post",value:"Edit post",icon:"edit outline",disabled:c,onClick:function(){i()}},"Edit post"),Object(a.jsx)(k.a.Item,{text:"Delete post",value:"Delete post",icon:"trash alternate outline",onClick:function(){return s(t)}},"Delete post")]})})},B=s(96),y=s(136),L=s(46),M=Object(L.a)(1200),S=function(e){return Object(a.jsxs)("div",{className:f.a.imagePreview,children:[Object(a.jsx)("img",{src:e.src}),Object(a.jsx)("div",{className:f.a.imagePreviewButton,title:"Delete image",onClick:function(){e.setPostImageURL(null),e.setPostImageFiles([]),e.setClearImage(!0)},children:Object(a.jsx)("svg",{height:"12pt",width:"12pt",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512.001 512.001",fill:"black",children:Object(a.jsx)("path",{d:"M294.111,256.001L504.109,46.003c10.523-10.524,10.523-27.586,0-38.109c-10.524-10.524-27.587-10.524-38.11,0L256,217.892\r L46.002,7.894c-10.524-10.524-27.586-10.524-38.109,0s-10.524,27.586,0,38.109l209.998,209.998L7.893,465.999\r c-10.524,10.524-10.524,27.586,0,38.109c10.524,10.524,27.586,10.523,38.109,0L256,294.11l209.997,209.998\r c10.524,10.524,27.587,10.523,38.11,0c10.523-10.524,10.523-27.586,0-38.109L294.111,256.001z"})})})]})},E=Object(y.a)({form:"ProfilePostInputForm"})((function(e){var t=Object(l.useState)(null),s=Object(h.a)(t,2),c=s[0],i=s[1],o=Object(l.useState)([]),r=Object(h.a)(o,2),n=r[0],d=r[1],j=Object(l.useState)(!1),u=Object(h.a)(j,2),p=u[0],m=u[1];return void 0!==c&&n.length>0&&function(e,t){var s=new FileReader;s.readAsDataURL(e),s.onload=function(e){var a=e.target.result;2===s.readyState&&t(a)}}(n[0],i),Object(a.jsx)("div",{children:Object(a.jsxs)("form",{className:f.a.inputBlock,onSubmit:e.handleSubmit,children:[Object(a.jsx)("div",{className:f.a.newPost,children:Object(a.jsx)(B.a,{name:"postText",component:C.e,validate:[M]})}),Object(a.jsxs)("div",{className:f.a.button,children:[Object(a.jsx)(B.a,{name:"postImage",enctype:"multipart/form-data",component:C.d,setFiles:d,type:"file",clearImage:p,setClearImage:m}),Object(a.jsx)("button",{onClick:function(){d([]),i(null)},children:Object(a.jsxs)("svg",{width:"20",height:"16",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsxs)("g",{"clip-path":"url(#clip0)",children:[Object(a.jsx)("path",{d:"M7.29165 14.6766V18.5416C7.29165 18.8116 7.46498 19.0508 7.72165 19.1358C7.78581 19.1566 7.85165 19.1666 7.91665 19.1666C8.11165 19.1666 8.29998 19.075 8.41998 18.9116L10.6808 15.835L7.29165 14.6766Z",fill:"#8683F8"}),Object(a.jsx)("path",{d:"M19.7375 0.115907C19.5459 -0.0199262 19.2942 -0.0382595 19.0859 0.0709072L0.335833 9.86257C0.114166 9.97841 -0.0166678 10.2151 0.00166559 10.4642C0.0208323 10.7142 0.186666 10.9276 0.422499 11.0084L5.63501 12.7901L16.7359 3.29841L8.14584 13.6476L16.8817 16.6334C16.9467 16.6551 17.015 16.6667 17.0834 16.6667C17.1967 16.6667 17.3092 16.6359 17.4084 16.5759C17.5667 16.4792 17.6742 16.3167 17.7017 16.1342L19.9934 0.717574C20.0275 0.484241 19.9292 0.252574 19.7375 0.115907Z",fill:"#8683F8"})]}),Object(a.jsx)("defs",{children:Object(a.jsx)("clipPath",{id:"clip0",children:Object(a.jsx)("rect",{width:"20",height:"20",fill:"white"})})})]})})]}),c?Object(a.jsx)(S,{src:c,setPostImageURL:i,setPostImageFiles:d,setClearImage:m}):null]})})})),A=function(e){var t=Object(l.useState)(!1),s=Object(h.a)(t,2),i=s[0],o=s[1],r=e.posts.map((function(t){return Object(a.jsx)(I,{avatar:e.avatar,username:e.username,message:t.message,likeCounter:t.likeCounter,isLiked:t.isLiked,date:t.date,PostImage:t.PostImage,onLikeClick:e.onLikeClick,removePost:e.removePost,setEditPostNewText:e.setEditPostNewText,deletePostImage:e.deletePostImage,id:t.id},t.id)})),n=function(t,s){var a=new FileReader;a.addEventListener("load",(function(s){var a=s.target.result;e.addPost(t,a),o(!0)})),a.readAsDataURL(s)};return Object(a.jsxs)("div",{className:f.a.postBlock,children:[Object(a.jsx)(E,Object(c.a)(Object(c.a)({},e),{},{onSubmit:function(t){console.log(t),void 0!==t.postImage&&0!==t.postImage.length?t.postImage[0]&&n(t.postText,t.postImage[0]):void 0!==t.postText&&(e.addPost(t.postText,null),o(!0))},clearPreview:i,setClearPreview:o})),e.posts.length>0&&Object(a.jsx)("div",{className:f.a.title,children:"My posts"}),Object(a.jsx)("div",{className:f.a.posts,children:r})]})},F=d.a.memo(A),D=s(13),T=s(135),Z=s(9),H=s(10),R=s(134),U=s(51),z=function(e){return e.auth.id},J=function(e){return e.usersPage.isFetching},K=function(e){Object(r.a)(s,e);var t=Object(n.a)(s);function s(){var e;Object(i.a)(this,s);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).onLikeClick=function(t){e.props.likePost(t)},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;void 0===e&&(e=this.props.id),null!==e&&(this.props.getStatus(e),this.props.getProfile(e))}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!==e.match.params.userId&&(console.log(this.props.match.params.userId+" "+e.match.params.userId),this.props.getStatus(this.props.match.params.userId),this.props.getProfile(this.props.match.params.userId)),this.props.avatar!==e.avatar&&this.props.getProfile(this.props.match.params.userId)}},{key:"render",value:function(){return Object(a.jsx)("div",{children:this.props.isFetching?Object(a.jsx)(U.a,{h:256,w:256}):Object(a.jsxs)("div",{className:u.a.profilePage,children:[Object(a.jsx)("div",{className:u.a.profileInfo,children:Object(a.jsx)(O,Object(c.a)(Object(c.a)({},this.props),{},{link:this.props.match.params.userId}))}),Object(a.jsx)("div",{className:u.a.myPosts,children:this.props.match.params.userId==this.props.id?Object(a.jsx)(F,Object(c.a)(Object(c.a)({},this.props),{},{onLikeClick:this.onLikeClick})):null})]})})}}]),s}(d.a.Component),Q={addPost:T.a,getProfile:T.d,likePost:T.f,getStatus:T.e,updateStatus:T.k,removePost:T.g,updateAvatar:T.j,setEditPostNewText:T.h,setImagePreview:T.i,deletePostImage:T.c};t.default=Object(H.d)(Object(D.b)((function(e){return Object(c.a)(Object(c.a)({},e.profilePage),{},{id:z(e),isFetching:J(e)})}),Q),Z.f,R.a,d.a.memo)(K)}}]);
//# sourceMappingURL=4.ceb28f54.chunk.js.map